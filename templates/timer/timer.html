{% extends 'base.html' %}
{% load static %}

{% block styles %}
        <link rel="stylesheet" type="text/css" href="{% static 'timer/styles.css' %}"/>
{% endblock %}

{% block content %}
    <div class="page-header">
        <h1>Track times</h1>
    </div>

    <div id="login_modal" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Anonymous User</h4>
          </div>
          <div class="modal-body">
            <p>You need to log in to do that!</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal">Ok</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <div class="container">

      <div class="row">
        <div id="stop-container" class="col-md-12">
          {# default time prevents page from jumping #}
          <p id="stopwatch"><span id="time">00:00:00</span></p>
          <p class="scramble text-center">
            {{ scramble }}
          </p>
        </div>
      </div>

      <br>

      <div class="row">
        <div class="col-md-12 text-center">
          <button id="main" class="btn btn-primary btn-block btn-lg">Start</button>
        </div>
      </div>

      <br>

      <div class="row">
        <div class="col-md-6">
          <div class="panel panel-info">
            <div class="panel-heading">
              <h3 class="panel-title">Instructions</h3>
            </div>
            <div class="panel-body">
              <p>
                Start the timer with space.
                Press it again to stop when you are done solving.
                Results will be listed on the right.
                Either delete them, permanently discarding them, or (if you are logged in) press save to record them to the server.
                Go to your user profile to view your solving history.
              </p>
              <p>
                Don't get discouraged if you don't start with the times you want!
                Everyone had to start somewhere :)
              </p>
              <p>
                Scrambles are automatically generated after each solve.
                Currently, only the standard 3x3 Rubik's cube is supported.
              </p>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="panel panel-default">
            <div class="panel-heading">Solve Times (<span id="pending"></span> pending)</div>
            <div class="panel-body">
              <button id="save" class="btn btn-success" type="submit">Save</button>
              <button id="delete" class="btn btn-danger" type="submit">Delete</button>
            </div>
            <div id="times-list" class="list-group">
            </div>
          </div>
        </div>
      </div>

    </div>
{% endblock %}

{% block scripts %}
    {% csrf_token %}
    <script src="{% static 'timer/scripts.js' %}"></script>
{% endblock %}
